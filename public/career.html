<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>経験者採用 - DXPRO SOLUTIONS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #10b981;
      --primary-dark: #059669;
      --secondary: #0ea5e9;
      --light: #f8fafc;
      --dark: #1e293b;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
    }
    
    .card-glass {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36);
    }
    
    .form-input {
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: white;
    }
    
    .form-input:focus {
      border-color: rgba(16, 185, 129, 0.6);
      box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
      background: rgba(255, 255, 255, 0.08);
    }
    
    .form-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.4);
    }
    
    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    
    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
    
    .section-title {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(14, 165, 233, 0.2) 100%);
      border-left: 4px solid var(--primary);
    }
    
    .floating {
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    .privacy-box {
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* カスタムチェックボックス */
    input[type="checkbox"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 4px;
      outline: none;
      cursor: pointer;
      position: relative;
      transition: all 0.2s;
    }
    
    input[type="checkbox"]:checked {
      background-color: var(--primary);
      border-color: var(--primary);
    }
    
    input[type="checkbox"]:checked::before {
      content: "✓";
      position: absolute;
      color: white;
      font-size: 16px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    
    input[type="radio"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      outline: none;
      cursor: pointer;
      position: relative;
      transition: all 0.2s;
    }
    
    input[type="radio"]:checked {
      border-color: var(--primary);
    }
    
    input[type="radio"]:checked::before {
      content: "";
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: var(--primary);
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-8">
  <!-- ヘッダー -->
  <header class="w-full max-w-5xl text-center mb-10 mt-6">
    <div class="floating inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-r from-green-900/30 to-blue-900/30 mb-6">
      <i class="fas fa-briefcase text-4xl text-white"></i>
    </div>
    <h1 class="text-4xl md:text-5xl font-extrabold text-white mb-4">中途採用</h1>
    <p class="text-green-200 text-lg mb-8">あなたの経験を活かせる場所があります</p>
    
    <a href="/index.html" 
      class="btn-secondary inline-flex items-center gap-2 px-6 py-3 rounded-xl text-white font-semibold">
      <i class="fas fa-arrow-left mr-2"></i>ホームに戻る
    </a>
  </header>

  <!-- メインコンテンツ -->
  <main class="w-full max-w-5xl space-y-8 mb-12">
    <form id="careerForm" enctype="multipart/form-data" class="space-y-8">

      <!-- 基本情報 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-user-circle"></i>基本情報
          </h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-signature mr-2 text-green-300"></i>姓
            </label>
            <input type="text" name="lastName" required class="form-input rounded-xl p-4" placeholder="例: 見本">
          </div>
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-signature mr-2 text-green-300"></i>名
            </label>
            <input type="text" name="firstName" required class="form-input rounded-xl p-4" placeholder="例: 太郎">
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-language mr-2 text-green-300"></i>フリガナ（性）
            </label>
            <input type="text" name="hurilastName" required class="form-input rounded-xl p-4" placeholder="例: ミホン">
          </div>
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-language mr-2 text-green-300"></i>フリガナ（名）
            </label>
            <input type="text" name="hurifirstName" required class="form-input rounded-xl p-4" placeholder="例: タロウ">
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-birthday-cake mr-2 text-green-300"></i>生年月日
            </label>
            <input type="date" name="birthdate" class="form-input rounded-xl p-4">
          </div>
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-phone mr-2 text-green-300"></i>電話番号
            </label>
            <input type="tel" name="phone" required class="form-input rounded-xl p-4" placeholder="例: 080-0000-1111">
          </div>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-3 flex items-center">
            <i class="fas fa-venus-mars mr-2 text-green-300"></i>性別
          </label>
          <div class="flex space-x-6">
            <label class="inline-flex items-center text-white">
              <input type="radio" name="gender" value="男性" class="mr-2" required>
              <span>男性</span>
            </label>
            <label class="inline-flex items-center text-white">
              <input type="radio" name="gender" value="女性" class="mr-2">
              <span>女性</span>
            </label>
          </div>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-envelope mr-2 text-green-300"></i>メールアドレス
          </label>
          <input type="email" name="email" required class="form-input rounded-xl p-4 w-full" placeholder="例: xxxx@gmail.com">
        </div>
      </div>

      <!-- 住所 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-map-marker-alt"></i>住所
          </h2>
        </div>
        
        <div id="jpAddressFields" class="space-y-6">
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-envelope-open-text mr-2 text-green-300"></i>郵便番号
            </label>
            <input type="text" id="postalCode" name="postalCode" placeholder="例: 1000001" maxlength="7"
                   class="form-input rounded-xl p-4">
          </div>
          
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-building mr-2 text-green-300"></i>都道府県
            </label>
            <input type="text" id="prefecture" name="prefecture" class="form-input rounded-xl p-4">
          </div>
          
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-city mr-2 text-green-300"></i>市区町村・番地
            </label>
            <input type="text" id="city" name="city" class="form-input rounded-xl p-4">
          </div>
          
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-home mr-2 text-green-300"></i>建物名・部屋番号 (任意)
            </label>
            <input type="text" name="addressDetail" class="form-input rounded-xl p-4">
          </div>
        </div>
        
        <label class="inline-flex items-center space-x-3 mt-6 text-white">
          <input type="checkbox" id="noAddress" name="noAddress" class="w-5 h-5">
          <span>日本国内住所がありません</span>
        </label>
      </div>

      <!-- 学歴 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-graduation-cap"></i>学歴
          </h2>
        </div>
        
        <div class="flex flex-col">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-university mr-2 text-green-300"></i>最終学歴
          </label>
          <select name="education" class="form-input rounded-xl p-4">
            <option value="">選択してください</option>
            <option value="高卒">高卒</option>
            <option value="専門卒">専門卒</option>
            <option value="大卒">大卒</option>
            <option value="大学院卒">大学院卒</option>
          </select>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-book-open mr-2 text-green-300"></i>学校名 / 専攻
          </label>
          <input type="text" name="major" class="form-input rounded-xl p-4 w-full">
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-calendar-alt mr-2 text-green-300"></i>卒業予定 / 卒業年月
          </label>
          <input type="month" name="graduation" 
           min="2000-01" max="2099-12" 
           class="form-input rounded-xl p-4 w-full"
           placeholder="例: 2025-03">
        </div>
      </div>

      <!-- 現職情報 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-building"></i>現職情報
          </h2>
        </div>
        
        <div class="flex flex-col">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-landmark mr-2 text-green-300"></i>現職会社名
          </label>
          <input type="text" name="currentCompany" class="form-input rounded-xl p-4 w-full">
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-user-tie mr-2 text-green-300"></i>現職の役職・職種
          </label>
          <input type="text" name="currentPosition" class="form-input rounded-xl p-4 w-full">
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-tasks mr-2 text-green-300"></i>主な業務内容
          </label>
          <textarea name="currentJobDescription" rows="3" class="form-input rounded-xl p-4 w-full"></textarea>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-clock mr-2 text-green-300"></i>勤続年数
          </label>
          <input type="number" name="experienceYears" class="form-input rounded-xl p-4 w-full" placeholder="例: 3" min="0">
        </div>
      </div>

      <!-- 希望条件 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-wishlist"></i>希望条件
          </h2>
        </div>
        
        <div class="flex flex-col">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-briefcase mr-2 text-green-300"></i>希望ポジション
          </label>
          <select name="position" required class="form-input rounded-xl p-4">
            <option value="">選択してください</option>
            <option value="frontend">フロントエンド</option>
            <option value="backend">バックエンド</option>
            <option value="designer">UIデザイナー</option>
            <option value="pm">プロジェクトマネージャー</option>
            <option value="consultant">コンサルタント</option>
            <option value="qaengineer">QAエンジニア</option>
          </select>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-laptop-house mr-2 text-green-300"></i>希望勤務形態
          </label>
          <select name="locationPreference" class="form-input rounded-xl p-4 w-full">
            <option value="">選択してください</option>
            <option value="出社">出社</option>
            <option value="リモート">リモート</option>
          </select>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-yen-sign mr-2 text-green-300"></i>希望年収
          </label>
          <input type="text" name="gold" class="form-input rounded-xl p-4 w-full" placeholder="例: 500万円">
        </div>
      </div>

      <!-- 書類提出 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-paperclip"></i>書類提出
          </h2>
        </div>

        <div class="space-y-6">
          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-file-alt mr-2 text-green-300"></i>職務経歴書
            </label>
            <input type="file" name="career" required class="form-input rounded-xl p-3">
          </div>

          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-file-contract mr-2 text-green-300"></i>履歴書
            </label>
            <input type="file" name="resume" required class="form-input rounded-xl p-3">
          </div>

          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fas fa-folder-open mr-2 text-green-300"></i>ポートフォリオ
            </label>
            <input type="file" name="portfolioFiles" multiple class="form-input rounded-xl p-3">
            <button type="button" id="noPortfolioCareer" class="btn-secondary mt-3 py-2 px-4 rounded-xl text-white font-medium">
              <i class="fas fa-times-circle mr-2"></i>ファイル無し
            </button>
          </div>

          <div class="flex flex-col">
            <label class="text-white font-medium mb-2 flex items-center">
              <i class="fab fa-github mr-2 text-green-300"></i>GitHub / ポートフォリオ URL
            </label>
            <input type="url" name="portfolio" class="form-input rounded-xl p-4" placeholder="例: https://www.github.com/XXXXXX">
          </div>
        </div>
      </div>

      <!-- 自己PR -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-star"></i>自己PR
          </h2>
        </div>
        
        <div class="flex flex-col">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-comment-dots mr-2 text-green-300"></i>自己紹介・志望動機
          </label>
          <textarea name="pr" rows="4" class="form-input rounded-xl p-4 resize-none"></textarea>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-exchange-alt mr-2 text-green-300"></i>転職理由
          </label>
          <textarea name="changeReason" rows="3" class="form-input rounded-xl p-4 resize-none w-full"></textarea>
        </div>
        
        <div class="mt-6">
          <label class="text-white font-medium mb-2 flex items-center">
            <i class="fas fa-calendar-check mr-2 text-green-300"></i>希望入社時期
          </label>
          <select name="desiredJoinDate" class="form-input rounded-xl p-4 w-full">
            <option value="">選択してください</option>
            <option value="即日">即日</option>
            <option value="１ヶ月以内">１ヶ月以内</option>
            <option value="２ヶ月以内">２ヶ月以内</option>
          </select>
        </div>
      </div>

      <!-- 確認 -->
      <div class="card-glass p-6 rounded-2xl text-center">
        <label class="inline-flex items-center justify-center gap-3 text-white">
          <input type="checkbox" name="consent" value="true" required class="w-6 h-6">
          <span class="text-lg font-semibold">
            上記内容は事実と相違ございません。
          </span>
        </label>
      </div>

      <!-- 個人情報同意 -->
      <div class="card-glass p-8 rounded-2xl">
        <div class="section-title p-4 rounded-lg mb-6">
          <h2 class="text-2xl font-semibold text-white flex items-center gap-3">
            <i class="fas fa-shield-alt"></i>個人情報の取扱いについて
          </h2>
        </div>
        
        <div class="privacy-box rounded-lg p-4 mb-6 h-64 overflow-y-auto text-sm text-gray-300">
          <p>DXPRO SOLUTIONS（以下「当社」）は、以下のとおり個人情報保護方針を定め、個人情報保護の仕組みを構築し、個人情報の保護を推進・実施致します。</p>
          <br><h4 class="font-semibold mt-2 text-white">個人情報の管理</h4>
          <p>当社はお客さまからお預かりする個人情報について、個人情報への不正アクセス・紛失・破損・改ざん・漏洩などを防止するため、セキュリティシステムの維持・管理体制の整備等の必要な措置を講じ、厳重な管理を行ないます。</p>
          <br><h4 class="font-semibold mt-2 text-white">個人情報の利用目的</h4>
          <p>当社がお預かりする個人情報は、当サービスのご利用とご提供に伴う以下の目的のために利用いたします。</p>
          <br><h4 class="font-semibold mt-2 text-white">個人情報の第三者への開示・提供の禁止</h4>
          <p>当社は、お客さまよりお预かりした個人情報を適切に管理し、次のいずれかに該当する場合を除き、個人情報を第三者に開示いたしません。</p>
          <br><h4 class="font-semibold mt-2 text-white">個人情報の安全対策</h4>
          <p>当社は、個人情報の正確性及び安全性確保のために、セキュリティに万全の対策を講じています。</p>
          <br><h4 class="font-semibold mt-2 text-white">ご本人の照合</h4>
          <p>当社のお客さまがご本人の個人情報の照会・修正・削除などをご希望される場合には、ご本人であることを確認の上、対応させていただきます。</p>
          <br><h4 class="font-semibold mt-2 text-white">法令、規範の遵守と見直し</h4>
          <p>当社は、保有する個人情報に関して適用される日本の法令、その他規範を遵守するとともに、本ポリシーの内容を適宜見直し、その改善に努めます。</p><br>
          <br><h4 class="font-semibold mt-2 text-white">個人情報に関するお問い合わせ先</h4>
          <p>合同会社 ディーエックスプロソリューションズ<br>
          個人情報保護管理責任者宛<br>
          E-mail: info@dxpro-sol.com<br>
          郵送: 〒114-0014 東京都北区田端4-21-14-402<br>
          2024年6月10日制定<br>
          代表取締役 金 兌訓</p>
        </div>

        <label class="inline-flex items-center justify-center gap-3 text-white">
          <input type="checkbox" name="consent" required class="w-6 h-6">
          <span class="text-lg font-semibold">
            個人情報の取扱規定に同意する。
          </span>
        </label>
        
        <div class="mt-8">
          <button type="submit" class="btn-primary w-full py-4 rounded-xl text-white font-bold text-lg">
            <i class="fas fa-paper-plane mr-2"></i>応募する
          </button>
        </div>
      </div>
    </form>
  </main>

  <script>
    const careerForm = document.getElementById('careerForm');
    const noPortfolioBtnCareer = document.getElementById('noPortfolioCareer');
    const noAddress = document.getElementById('noAddress');
    const jpAddressFields = document.getElementById('jpAddressFields');
    const postalCodeInput = document.getElementById('postalCode');

    // 国内住所なし → 住所フィールド非表示
    noAddress.addEventListener('change', () => {
      jpAddressFields.style.display = noAddress.checked ? 'none' : 'block';
    });

    // 郵便番号検索
    postalCodeInput.addEventListener('blur', async () => {
      const postalCode = postalCodeInput.value.replace(/-/g,'').trim();
      if (!postalCode.match(/^[0-9]{7}$/)) return;
      
      try {
        const res = await fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${postalCode}`);
        const data = await res.json();
        if (data.results) {
          const result = data.results[0];
          document.getElementById('prefecture').value = result.address1;
          document.getElementById('city').value = result.address2 + result.address3;
        } else {
          alert("住所が見つかりませんでした。");
        }
      } catch (err) {
        console.error(err);
        alert("住所検索に失敗しました。");
      }
    });

    noPortfolioBtnCareer.addEventListener('click', () => {
      if(confirm("ポートフォリオなしで応募しますか？")) {
        careerForm.querySelector('input[name="portfolioFiles"]').value = "";
      }
    });

    careerForm.addEventListener('submit', async e => {
      e.preventDefault();
      
      // ボタンのローディング状態
      const submitBtn = careerForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 応募情報を確認しています...';
      submitBtn.disabled = true;
      
      const fd = new FormData(careerForm);
      
      try {
        const res = await fetch("/apply/career", { 
          method: "POST", 
          body: fd 
        });
        
        const data = await res.json();
        alert(data.message);
        
        if(data.status === "success") {
          careerForm.reset();
        }
      } catch (error) {
        console.error(error);
        alert("送信中にエラーが発生しました。後ほど再度お試しください。");
      } finally {
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
      }
    });
  </script>
</body>
</html>